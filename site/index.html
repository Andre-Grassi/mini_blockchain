<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mini Blockchain ‚Äî Relat√≥rio T√©cnico Interativo</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Mini Blockchain ‚Äî Relat√≥rio T√©cnico</h1>
    <div class="small">Ricardo Prado Faria &amp; Andr√© Grassi ‚Äî Disciplina: <strong>Redes de Computadores 2</strong></div>
  </header>

  <main>
    <section>
      <h2>üìÑ Resumo e Objetivo</h2>
      <p>Este trabalho tem por objetivo <strong>simular</strong> o fluxo da intera√ß√£o entre cliente e servidor de um servi√ßo de <strong>moedas virtuais baseadas em blockchain</strong>. Vale destacar que o trabalho possibilita o atendimento a <strong>mais de um cliente</strong>.</p>
    </section>

    <section>
      <h2>üóìÔ∏è Cronograma e Metodologia de Desenvolvimento</h2>
      <p id="progress-report">
        O desenvolvimento da Mini Blockchain ocorreu ao longo de um per√≠odo de tr√™s semanas, iniciando-se aproximadamente em 23 de Outubro de 2025. O trabalho foi conduzido em parceria e baseado em reuni√µes virtuais peri√≥dicas para alinhamento e integra√ß√£o cont√≠nua.

        <p><strong>Fase 1: Planejamento e Arquitetura (Aprox. 23/10 a 29/10)</strong></p>
        <p>A fase inicial foi dedicada ao planejamento. Estabelecemos a linguagem de programa√ß√£o principal, <strong>Python</strong>, e definimos a arquitetura da aplica√ß√£o. Utilizamos a <strong>Linguagem de Modelagem Unificada (UML)</strong> para documentar a estrutura do projeto. Nesse per√≠odo, foram criados os <strong>Diagramas de Classes e de Atividade</strong> (dispon√≠veis na se√ß√£o "Arquitetura & Diagramas"), fundamentais para a divis√£o das tarefas:</p>
        <ul>
            <li><strong>Andr√©: conex√£o Cliente-Servidor</strong>, sistema de comunica√ß√£o da rede e Desenvolvimento dos <strong>modelos de dados </strong>.</li>
            <li><strong>Ricardo:</strong> l√≥gica de <strong>transa√ß√µes e valida√ß√£o </strong> da blockchain.</li>
        </ul>

        <p><strong>Fase 2: Desenvolvimento e Implementa√ß√£o (Aprox. 30/10 a 06/11)</strong></p>
        <p>A segunda semana focou na implementa√ß√£o paralela dos m√≥dulos. Enquanto a camada de rede e o entrypoint do servidor (<code class="tag">run_server.py</code>) eram estabelecidos, a codifica√ß√£o do <strong>modelo de bloco</strong> (<code class="tag">block.py</code>) e da <strong>l√≥gica de tratamento de transa√ß√µes</strong> (<code class="tag">transaction_handler.py</code>) ocorria em paralelo. Reuni√µes intermedi√°rias garantiram que os m√≥dulos de comunica√ß√£o e de l√≥gica da blockchain pudessem ser integrados sem conflitos, focando na correta serializa√ß√£o e desserializa√ß√£o dos dados.</p>

        <p><strong>Fase 3: Testes, Valida√ß√£o e Documenta√ß√£o (Aprox. 07/11 a 13/11)</strong></p>
        <p>A fase final foi crucial para a <strong>valida√ß√£o exaustiva</strong> do sistema. Desenvolvemos scripts de testes focados em simular m√∫ltiplas transa√ß√µes v√°lidas e inv√°lidas, al√©m de for√ßar o processo de minera√ß√£o. Isso gerou os <strong>logs de execu√ß√£o</strong> presentes neste relat√≥rio. Por fim, o esfor√ßo se concentrou na cria√ß√£o deste <strong>Relat√≥rio Interativo em formato de website</strong>, utilizando HTML/CSS, para organizar e apresentar o c√≥digo, diagramas e as evid√™ncias de funcionamento (logs) de forma clara e acess√≠vel, cumprindo integralmente os requisitos de documenta√ß√£o do professor.</p>
      </p>
    </section>

    <section>
      <h2>üìê Arquitetura e Diagramas</h2>
      <p class="meta">Os diagramas de projeto foram gerados utilizando ferramentas UML e est√£o localizados em <code class="tag">docs/uml/</code>.</p>

      <div class="row">
        <div class="card">
          <h3>Diagrama de Classes</h3>
          <a href="imgs/class_diagram.png" target="_blank">
            <img src="imgs/class_diagram.png" alt="Diagrama de classes da mini blockchain" class="diagram">
          </a>
        </div>
        <div class="card">
          <h3>Fluxo do Cliente</h3>
          <a href="imgs/client/Activity Diagram.png" target="_blank">
            <img src="imgs/client/Activity Diagram.png" alt="Diagrama de atividade do cliente" class="diagram">
          </a>
        </div>
        <div class="card">
          <h3>Diagrama de Atividade (Servidor)</h3>
          <a href="imgs/client/Activity Diagram.png" target="_blank">
            <img src="imgs/server/Activity Diagram.png" alt="Diagrama de atividade do servidor" class="diagram">
          </a>
        </div>
        <div class="card">
          <h3>Valida√ß√£o de Retirada</h3>
          <a href="imgs/client/Activity Diagram.png" target="_blank">
              <img src="imgs/server/ValidateWithdrawal.png" alt="Diagrama de valida√ß√£o de retirada no servidor" class="diagram">
          </a>
        </div>
      </div>
    </section>

    <section>
      <h2>üíª Implementa√ß√£o ‚Äî C√≥digo Fonte</h2>
      <p class="meta">Os arquivos de c√≥digo fonte, entregues no formato <code class="tag">.txt</code> para visualiza√ß√£o, est√£o listados abaixo:</p>
      <ul class="file-list">
        <li><a class="link" href="codigo/run_server.py.txt" target="_blank">run_server.py.txt</a> ‚Äî <strong>Entrypoint</strong> principal do servidor</li>
        <li><a class="link" href="codigo/run_client.py.txt" target="_blank">run_client.py.txt</a> ‚Äî Script para <strong>envio de transa√ß√µes</strong> (cliente)</li>
        <li><a class="link" href="codigo/block.py.txt" target="_blank">block.py.txt</a> ‚Äî <strong>Modelo de Bloco</strong> (estrutura de dados)</li>
        <li><a class="link" href="codigo/transaction_handler.py.txt" target="_blank">transaction_handler.py.txt</a> ‚Äî L√≥gica para <strong>manipula√ß√£o e valida√ß√£o de transa√ß√µes</strong></li>
      </ul>
    </section>

    <section>
      <h2>üìä Logs de Execu√ß√£o (Exemplos)</h2>
      <p class="meta">Abaixo est√£o previews dos logs de execu√ß√£o do servidor e do cliente. Arquivos completos em <code class="tag">site/logs/</code>.</p>

      <div class="row">
        <div class="card">
          <h3>Log Servidor (Preview)</h3>
          <pre id="log-server">Carregando log do servidor...</pre>
          <div class="log-link-container"><a class="button-link" href="logs/execucao_servidor.log" target="_blank">Abrir Log Completo</a></div>
        </div>

        <div class="card">
          <h3>Log Cliente (Preview)</h3>
          <pre id="log-client">Carregando log do cliente...</pre>
          <div class="log-link-container"><a class="button-link" href="logs/execucao_cliente.log" target="_blank">Abrir Log Completo</a></div>
        </div>
      </div>
    </section>

    <section>
      <h2>‚úÖ Testes Realizados e Evid√™ncias</h2>
      <p>Os principais cen√°rios de teste validados no projeto incluem:</p>
      <ol>
        <li><strong>Envio de Transa√ß√£o V√°lida:</strong> Verifica√ß√£o da aceita√ß√£o pela <code class="tag">mempool</code> (vide logs).</li>
        <li><strong>Valida√ß√£o de Saque:</strong> Teste do fluxo completo de opera√ß√£o de retirada (detalhes no diagrama <code class="tag">server/ValidateWithdrawal</code>).</li>
        <li><strong>Minera√ß√£o / Cria√ß√£o de Bloco:</strong> Acompanhamento da cria√ß√£o de um bloco simples (mostrada no log de servidor).</li>
        <li><strong>Casos Inv√°lidos:</strong> Teste de entradas faltantes, que resultam no erro <strong>HTTP 400</strong> (descri√ß√£o no relat√≥rio anexo).</li>
      </ol>
      
      <div class="row">
        <div class="card">
          <h3>Log de Testes Gerais (Preview)</h3>
          <pre id="log-tests">Carregando log de testes...</pre>
          <div class="log-link-container"><a class="button-link" href="logs/testes.log" target="_blank">Abrir Log de Testes</a></div>
        </div>
        <div class="card">
          <h3>Screenshots de Evid√™ncias</h3>
          <a href="imgs/server/Activity Diagram.png" target="_blank">
            <img src="imgs/server/Activity Diagram.png" alt="Screenshots dos testes" class="diagram">
          </a>
        </div>
      </div>
      <p class="small">Screenshots e resultados completos dos testes est√£o dispon√≠veis nas pastas <code class="tag">site/imgs/</code> e <code class="tag">site/logs/</code>.</p>
    </section>

  </main>

  <footer>
    <p><strong>Universidade Federal do Paran√° - Curitiba</strong></p>
  </footer>

  <script>
    // Script simples pra carregar previews de logs
    function loadText(path, elementId){
      fetch(path).then(r => {
        if (!r.ok) throw new Error("no file");
        return r.text();
      }).then(t => {
        document.getElementById(elementId).textContent = t.slice(0, 4000); // preview limt 4000 chars
      }).catch(e => {
        document.getElementById(elementId).textContent = `(arquivo n√£o encontrado: ${path})`;
      });
    }
    loadText('logs/execucao_servidor.log','log-server');
    loadText('logs/execucao_cliente.log','log-client');
    loadText('logs/testes.log','log-tests');
  </script>
</body>
</html>